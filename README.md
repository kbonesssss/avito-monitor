# Avito Price Monitor Bot

Telegram бот для мониторинга цен объявлений на Авито.

## Возможности

- Отслеживание цен объявлений в реальном времени
- Поиск объявлений по различным параметрам
- Уведомления при изменении цены
- Поддержка нескольких объявлений для каждого пользователя
- Простой интерфейс управления подписками

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/kbonesssss/avito-monitor
cd avito-monitor
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта и добавьте необходимые токены:
```
BOT_TOKEN=your_telegram_bot_token
AVITO_CLIENT_ID=your_avito_client_id
AVITO_CLIENT_SECRET=your_avito_client_secret
AVITO_ACCESS_TOKEN=your_avito_access_token
```

## Использование

1. Запустите бота:
```bash
python bot.py
```

2. В Telegram найдите вашего бота и отправьте команду `/start`

3. Используйте следующие команды:
- `/search` - поиск объявлений
- `/list` - показать отслеживаемые объявления
- `/remove` - удалить объявление из отслеживания
- `/help` - показать справку

## Поиск объявлений

Вы можете искать объявления двумя способами:

1. Простой поиск: просто отправьте поисковый запрос
2. Расширенный поиск: используйте формат:
```
Запрос | Категория | Город | Цена от | Цена до
```
Например:
```
iPhone 13 | Электроника | Москва | 50000 | 80000
```

## Отслеживание объявлений

1. Найдите интересующее вас объявление через поиск
2. Отправьте ID объявления боту
3. Бот начнет отслеживать цену и уведомит вас при изменениях

## Настройка

В файле `config.py` вы можете изменить следующие параметры:

- `CHECK_INTERVAL` - интервал проверки цен (в секундах)
- `MAX_ITEMS_PER_USER` - максимальное количество объявлений для отслеживания
- `PRICE_CHANGE_THRESHOLD` - порог изменения цены для уведомления (в процентах)

## Примечания

- Для работы бота требуются API ключи Авито
- Бот использует официальное API Авито для получения данных
- Для хранения данных используется in-memory хранилище (в реальном проекте рекомендуется использовать базу данных)
- Бот отправляет уведомления при изменении цены на 5% и более 
